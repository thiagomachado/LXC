<!DOCTYPE html>
<html lang="pt">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="img/favicon.ico">
    <title>Linux Container</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Cabin:700' rel='stylesheet' type='text/css'>

    <!-- Custom styles for this template -->
    <link href="css/grayscale.css" rel="stylesheet">

  </head>

  <body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">Linux Container</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fa fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#about">O que é LXC?</a>
            </li>
            <li class="nav-item">
                <a class="nav-link js-scroll-trigger" href="#functions">Como funciona?</a>
            </li>
            <li class="nav-item">
                <a class="nav-link js-scroll-trigger" href="#use">Como usar?</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#performance">Comparativo</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#conclusion">Conclusão</a>
            </li>
            <li class="nav-item">
                <a class="nav-link js-scroll-trigger" href="#faq">FAQ</a>
            </li> 
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#references">Referências</a>
            </li>        
          </ul>
        </div>
      </div>
    </nav>

    <!-- Intro Header -->
    <header class="masthead backgroundGrayBlackGradient">
      <div class="intro-body">
        <div class="container">
          <div class="row">
            <div class="col-lg-8 mx-auto">
              <h1 class="brand-heading">
                <img src="img/lxc.png"/><br>
                Linux Container
              </h1>
              <p class="intro-text">
               THIAGO LEAL DAMÁSIO MACHADO<br>
                <span style="color:#BBB; font-size:14px; ">Engenharia de Computação e Informação</span>
              </p>
              <p></p>
              <a href="#abstract" class="btn btn-circle js-scroll-trigger">
                <i class="fa fa-angle-double-down animated"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- About Section -->
    <section id="abstract" class="content-section ">
        <div class="container">
          <div class="row">
            <div class="col-lg-8 mx-auto">
              <h2>Resumo</h2>
              <p>
                O objetivo deste trabalho é apresentar ao leitor como funciona o Linux Container (LXC) e suas aplicações, buscando compará-lo com outras opções disponíveis no mercado.
              </p>
              <center><a href="#about" class="btn btn-circle js-scroll-trigger">
                  <i class="fa fa-angle-double-down animated"></i>
                </a></center>
            </div>
          </div>
        </div>
    </section>

    <section id="about" class="content-section ">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto">
            <h2>O que é LXC?</h2>
            <p>O Linux Container (LXC) é um projeto criado por engenheiros da IBM em 2008 e atualmente mantido pela Canonical. Consiste de uma interface para gerenciamento de containers que tem como base o mesmo Kernel Linux. Esta
              interface oferece uma variedade de ferramentas e uma poderosa API que tornam simples o controle de containers para usuários de Linux. 
              <sup><a href="#references">[6]</a></sup>
            </p>
            <p>
                <center><img src="img/canonical-logo1.png" width="100%"/><br>
                <label>Figura I: Logo da Canonical. <a href="#images">[I].</a></label> </center>
            </p>
            <p>Para um melhor entendimento das funcionalidades do LCX é necessário entender a definição de container. Um container é basicamente uma virtualização
              a nível de sistema operacional, isto significa que o kernel do sistema operacional permite que múltiplos processos executem isoladamente na mesma máquina.
              <sup><a href="#references">[7]</a></sup>
            </p>                        
            <p>
              O principal objetivo do LXC é criar vários ambientes Linux sem precisar utlizar diferentes kernels de modo a ser mais eficiente do que uma máquina virtual.<sup><a href="#references">[6]</a></sup>              
            </p>
            <p></p>
            <center><a href="#functions" class="btn btn-circle js-scroll-trigger">
                <i class="fa fa-angle-double-down animated"></i>
              </a></center>
          </div>
        </div>
      </div>
    </section>

    <section id="functions" class="content-section ">
        <div class="container">
          <div class="row">
            <div class="col-lg-8 mx-auto">
              <h2>Como funciona?</h2>
              <p>
                O LXC permite a criação de containers utilizando algumas funcionalidades do kernel do linux como namespaces, cgroups, chroot, SELinux e apparmor.<sup><a href="#references">[6]</a></sup>
              </p>
              <p>
                  <center><img src="img/containerLXC.png" width="100%"/><br>
                  <label>Figura II: Estrutura de virtualização com containers. <a href="#images">[II].</a></label> </center>
              </p>
              <p>
                A figura II mostra que as três aplicações (APP 1, APP 2 e APP 3) executam isoladas em containers no sistema operacional. Este isolamento se dá por conta da funcionalidade
                namespaces do kernel do Linux. <sup><a href="#references">[7]</a></sup>          
                Os namespaces funcionam envolvendo as configurações globais do sistema em um ambiente que faz parecer para um processo que ele está sendo executado
                somente com processos do mesmo ambiente.<sup><a href="#references">[8]</a></sup>
              </p>
              <p>
                Ainda para garantir o isolamento de cada aplicação, o LXC usa o chroot. Este comando altera o diretório de root de um processo e de seus filhos, garantindo assim que ele não possa acessar arquivos
                de fora deste diretório.<sup><a href="#references">[8]</a></sup>
              </p>
              <p>
                Porém somente o uso dos namespaces pode fazer com que um container isolado utilize todos os recursos da máquina, para que isto não ocorra a funcionalidade do cgroups é utlizada.
                <sup><a href="#references">[7]</a></sup>                        
                O cgroups é uma funcionalidade do Linux que permite que os processos sejam organizados em grupos hieraquicamente, de acordo com o tipo de recurso da máquina que eles utilizam, assim estes recursos
                podem ser monitorados e limitados para cada grupo.<sup><a href="#references">[8]</a></sup>
              </p>
              <p>
                O linux containers também faz uso do SELinux (Security Enhanced Linux), esta ferramenta verifica em cada chamada do sistema se a aplicação está autorizada a realizar uma determinada operação. Basicamente,
                as restrições são aplicadas de acordo com o usuário e o domínio que executou cada aplicação. Juntamente com o apparmor, cuja função é aplicar restrições a uma determinada aplicação independete do usuário que
                a executou, o LXC consegue garantir que cada container vai seguir as configurações de uso de recursos aplicadas.<sup><a href="#references">[8]</a></sup>
              </p>
              <p></p>
              <center><a href="#use" class="btn btn-circle js-scroll-trigger">
                  <i class="fa fa-angle-double-down animated"></i>
                </a></center>
            </div>
          </div>
        </div>
    </section>

    <section id="use" class="content-section ">
        <div class="container">
            <div class="col-lg-8 mx-auto">
              <h2>Como usar?</h2>
              <p>
                Esta seção tem como objetivo mostar um passo a passo para criar um container utilizando o LXC, indo desde a instalação até alguns comandos básicos.<sup><a href="#references">[6]</a></sup>
              </p>
              <p>
                 As principais distribuições de Linux, como Debian, Fedora, Arch e Ubuntu, possuem o LXC em seus repositórios padrões. Assim a Instalação pode ser executada de forma simples pelo terminal, como
                 por exemplo, usando o seguinte comando no Debian ou Ubuntu:
                 <label class="codehilite">
                    sudo apt-get install lxc
                 </label> 
                 Ao final da instalação os comandos do LXC e templates estaram disponíveis.
              </p>
              <p >
                  Com o LXC instalado já se pode criar containers, o mais indicado é criar containers sem privilégios como um usuário padrão (não root). Use o seguinte comando para criar um container:
                  <label class="codehilite">
                    lxc-create -t download -n meu-container
                  </label>
                  Uma lista de templates será exibida e você deve escolher o que mais lhe agradar. Os templates permitem que você crie um container com uma imagem de algum sistema operacional Linux, como Ubuntu
                  por exemplo. 
              </p>
              <p>
                  Pouco tempo depois seu container será criado e você pode iniciá-lo com:
                  <label class="codehilite">
                      lxc-start -n meu-container -d
                  </label>
              </p>
              <p>
                  Para checar o status use:
                  <label class="codehilite">
                      lxc-info -n meu-container<br/>
                      lxc-ls -f
                  </label>
              </p>
              <p>
                  Com o seguinte comando é possível abrir uma linha de comando dentro do container:
                  <label class="codehilite">
                      lxc-attach -n meu-container
                  </label>
              </p>
              <p>
                  O container pode ser parado com:
                  <label class="codehilite">
                      lxc-stop -n my-container
                  </label>
                  Da próxima vez que for iniciado todas as configurações serão mantidas.
              </p>
              <p>
                  E para destruir o container:
                  <label class="codehilite">
                      lxc-destroy -n my-container
                  </label>
                  Ao ser destruído todos os arquivos e configurações dentro do container são perdidos.
              </p> 
              <p></p>
              <center><a href="#performance" class="btn btn-circle js-scroll-trigger">
                  <i class="fa fa-angle-double-down animated"></i>
                </a></center>
            </div>
          </div>
    </section>

    <section id="performance" class="content-section ">
        <div class="container">
            <div class="col-lg-8 mx-auto">
              <h2>Comparativo</h2>
              <p>
                Como dito anteriormente, uma das ideias por trás do LXC é montar uma estrutura de virtualização que seja mais eficiente que máquinas virtuais. Essa eficiência se mostra através de uma estrutura que
                permite uma maior escalabilidade e melhor uso dos recursos da máquina hospedeira.<sup><a href="#references">[1]</a></sup>
              </p>
              <p>
                  <center><img src="img/vm_x_container.png" width="100%"/><br>
                  <label>Figura III: Comparativo entre máquina virtual e containers. <a href="#images">[II].</a></label> </center>
              </p>
              <p>
                A figura III mostra um comparativo entre as estruturas de virtualização. Do lado esquerdo temos um diagrama de máquinas virtuais sendo gerenciadas por um Hypervisor, nessa estrutura existe uma simulação 
                do hardware para cada GuestOS (sistema operacional), o Hypervisor fica encarregado de gerenciar cada instância de sistema operacional virtualizado. A principal desvantagem disso é que manter diversos
                sistemas operacionais em execução é muito custoso para o hospedeiro sendo díficil ter uma grande escalabilidade.<sup><a href="#references">[2]</a></sup>
              </p>
              <p>
                Do lado direito temos o mesmo diagrama da figura II que mostra a estrutura de uma virtualização com containers. Cada aplicação executa em um contexto isolado usando o kernel do sistema operacional do
                hospedeiro. A pesar de ser uma solução mais leve e que permite uma escalabilidade maior, o LXC posssui a desvantagem de não poder executar, de forma trivial, uma aplicação para um sistema operacional específico que
                não seja linux, como por exemplo Windows.<sup><a href="#references">[2]</a></sup>
              </p>
              <center><a href="#conclusion" class="btn btn-circle js-scroll-trigger">
                  <i class="fa fa-angle-double-down animated"></i>
                </a></center>
            </div>
          </div>
    </section>

    <section id="conclusion" class="content-section ">
        <div class="container">
            <div class="col-lg-8 mx-auto">
              <h2>Conclusão</h2>
              <center><a href="#faq" class="btn btn-circle js-scroll-trigger">
                  <i class="fa fa-angle-double-down animated"></i>
                </a></center>
            </div>
          </div>
    </section>

    <section id="faq" class="content-section ">
        <div class="container">
            <div class="col-lg-8 mx-auto">
              <h2>Perguntas</h2>
              <center><a href="#references" class="btn btn-circle js-scroll-trigger">
                  <i class="fa fa-angle-double-down animated"></i>
                </a></center>
            </div>
          </div>
    </section>

    <section id="references" class="content-section">
      <div class="container">
        <div class="col-lg-8 mx-auto">
          <h2>Referências Bibliográficas</h2>
          <ol class="listaOl">
            <li>
                Scheepers, Mathijs Jeroen. Virtualization and Containerization of Application
                Infrastructure: A Comparison. University of Twente P.O. Box 217, 7500AE Enschede. The Netherlands.
            </li>
            <li>
                Miguel G. Xavier, Marcelo V. Neves, and Fabio D. Rossi. Performance evaluation of
                container-based virtualization for high performance computing environments. In 2013 21st
                Euromicro International Conference on Paral-lel, Distributed, and Network-Based
                Processing, 13431803, pages 233–240, Belfast, UK, 2013. IEEE.
            </li>
            <li>
                Il-Young Moon Oh-Young Kwon Byeong-Jun Kim Kyoung-Taek Seo, Hyun-Seo Hwang.
                Performance comparison analysis of linux container and virtual machine for building cloud.
                Advanced Science and Technology Letters, volume 66: pages 105–111, 2013.
            </li>
            <li>
                Ann Mary Joy. Performance comparison between linux containers and virtual machines.
                In 2015 International Conference on Advances in Computer Engineering and Applications,
                15309964, pages 98–102, Ghaziabad, India, 2015. IEEE.
            </li>
            <li>
                David Bernstein. Containers and cloud: From lxc to docker to kubernetes. IEEE Cloud
                Computing, 1(3):81–84, 2014.
            </li>
            <li>
                 <a href="https://linuxcontainers.org/lxc/introduction/" target="_blank">Linux Containers introduction</a>.
                Acessado em: 24/08/2017 às 23:20. 
            </li>
            <li>
              Gomes, Rafael. Docker para desenvolvedores. Salvador, Bravos, 2017.             
            </li>  
           <li>
                <a href="http://man7.org/linux/man-pages/index.html" target="_blank">Linux Manual</a>.
                Acessado em: 30/10/2017 às 19:36.
           </li>           
          </ol>

         
          <section id="images" class="content-section">
            <h2>Imagens</h2>
            <ol type="I">
                <li>
                    Reproduzido de <a href="https://design.ubuntu.com/brand/canonical-logo/" target="_blank">Canonical</a>.
                  Acessado em: 03/11/2017 às 20:25. 
               </li>
               <li>
                  Reproduzido de <a href="https://weloveteach.com/site/artigo/entenda-o-que-e-o-lxc-linux-containers" target="_blank">Entenda o que é o LXC</a>.
                Acessado em: 30/08/2017 às 23:20. 
              </li>
            </ol>
        </section>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="content-section text-center">
        <div class="container">
          <div class="row">
            <div class="col-lg-8 mx-auto">
              <h2>Contato</h2>
              <p>
                Este trabalho foi versionado usando git, sinta-se livre para comentar sobre o artigo na página do github.
              </p>
              <ul class="list-inline banner-social-buttons">

                <li class="list-inline-item">
                  <a href="https://github.com/thiagomachado/LXC" target="_blank" class="btn btn-default btn-lg">
                    <i class="fa fa-github fa-fw"></i>
                    <span class="network-name">Github</span>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>

    <!-- Map Section
    <div id="map"></div> -->

    <!-- Footer -->
    <footer>
      <div class="container">
        <p style="text-align: justify;">
            Este trabalho foi totalmente produzido pelo autor que declara não ter violado os direitos autorais de terceiros, 
            sejam eles pessoas físicas ou jurídicas. Havendo textos, tabelas e figuras transcritos de obras de terceiros com 
            direitos autorais protegidos ou de domínio público tal como idéias e conceitos de terceiros, 
            mesmo que sejam encontrados na Internet, os mesmos estão com os devidos créditos aos autores originais e estão 
            incluídas apenas com o intuito de deixar o trabalho autocontido. O autor tem ciência dos Artigos 297 a 299 do Código 
            Penal Brasileiro e também que o uso do artifício de copiar/colar texto de outras fontes e outras formas de plágio é 
            um ato ilícito, condenável e passível de punição severa. No contexto da Universidade a punição não precisa se 
            restringir à reprovação na disciplina e pode gerar um processo disciplinar que pode levar o aluno à suspensão.
        </p>
      </div>
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/popper/popper.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Google Maps API Key - Use your own API key to enable the map feature. More information on the Google Maps API can be found at https://developers.google.com/maps/ -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCRngKslUGJTlibkQ3FkfTxj3Xss1UlZDA&sensor=false"></script>

    <!-- Custom scripts for this template -->
    <script src="js/grayscale.min.js"></script>

  </body>

</html>
